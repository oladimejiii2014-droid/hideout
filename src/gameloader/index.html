<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #0a0a0a;
            background-image: 
                radial-gradient(circle, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: 0 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: #ffffff;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(22, 162, 73, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            top: -200px;
            right: -200px;
            animation: float 8s ease-in-out infinite;
            pointer-events: none;
        }

        body::after {
            content: '';
            position: absolute;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(22, 162, 73, 0.08) 0%, transparent 70%);
            border-radius: 50%;
            bottom: -150px;
            left: -150px;
            animation: float 10s ease-in-out infinite reverse;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0);
            }
            50% {
                transform: translate(30px, 30px);
            }
        }

        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 50px;
        }

        .circle-container {
            position: relative;
            width: 280px;
            height: 280px;
            z-index: 1;
        }

        .circle-image {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            background-color: #1a1a1a;
            border: 3px solid #1a1a1a;
            filter: blur(2px);
        }

        .loading-ring {
            position: absolute;
            top: -12px;
            left: -12px;
            width: 304px;
            height: 304px;
            border-radius: 50%;
            z-index: 2;
        }

        .loading-ring svg {
            transform: rotate(-90deg);
            width: 100%;
            height: 100%;
            overflow: visible;
            shape-rendering: geometricPrecision;
        }

        .loading-ring circle {
            fill: none;
            stroke-width: 6;
        }

        .loading-ring .bg-circle {
            stroke: #1a1a1a;
            stroke-linecap: butt;
        }

        .loading-ring .progress-circle {
            stroke: #16a249;
            stroke-linecap: butt;
            stroke-dasharray: 930;
            stroke-dashoffset: 930;
            animation: loadProgress 15s linear forwards;
            filter: drop-shadow(0 0 12px rgba(22, 162, 73, 0.8)) drop-shadow(0 0 20px rgba(22, 162, 73, 0.4)) drop-shadow(0 0 30px rgba(22, 162, 73, 0.2));
            stroke-linejoin: miter;
        }

        @keyframes loadProgress {
            to {
                stroke-dashoffset: 0;
            }
        }

        .game-name {
            color: #ffffff;
            font-size: 48px;
            font-weight: 600;
            text-align: center;
            letter-spacing: -0.5px;
            text-shadow: 
                0 0 20px rgba(255, 255, 255, 0.3),
                0 0 40px rgba(22, 162, 73, 0.2);
            animation: textGlow 3s ease-in-out infinite;
        }

        @keyframes textGlow {
            0%, 100% {
                text-shadow: 
                    0 0 20px rgba(255, 255, 255, 0.3),
                    0 0 40px rgba(22, 162, 73, 0.2);
            }
            50% {
                text-shadow: 
                    0 0 30px rgba(255, 255, 255, 0.5),
                    0 0 60px rgba(22, 162, 73, 0.3);
            }
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: #16a249;
            border-radius: 50%;
            pointer-events: none;
            box-shadow: 0 0 8px rgba(22, 162, 73, 1), 0 0 12px rgba(22, 162, 73, 0.6);
            z-index: 999;
        }

        .percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            font-weight: 700;
            color: #16a249;
            text-shadow:
                0 0 20px rgba(22, 162, 73, 0.8),
                0 0 40px rgba(22, 162, 73, 0.4);
            -webkit-text-stroke: 4px #000000;
            paint-order: stroke fill;
            z-index: 10;
            transition: opacity 0.3s ease;
        }

        .percentage.hide {
            opacity: 0;
        }

        .checkmark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            z-index: 10;
            opacity: 0;
            pointer-events: none;
        }

        .checkmark svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.6));
        }

        .checkmark-circle-bg {
            opacity: 1;
        }

        .checkmark-circle {
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transform-origin: center;
        }

        .checkmark-check {
            stroke-dasharray: 70;
            stroke-dashoffset: 70;
        }

        .checkmark.show .checkmark-circle {
            animation: drawCircle 0.6s ease-out forwards;
        }

        .checkmark.show .checkmark-check {
            animation: drawCheck 0.4s ease-out 0.5s forwards;
        }

        @keyframes drawCircle {
            0% {
                stroke-dashoffset: 283;
                transform: rotate(-90deg);
            }
            100% {
                stroke-dashoffset: 0;
                transform: rotate(270deg);
            }
        }

        @keyframes drawCheck {
            0% {
                stroke-dashoffset: 70;
            }
            100% {
                stroke-dashoffset: 0;
            }
        }

        .checkmark.show {
            animation: checkmarkAppear 0.3s ease-out forwards, checkmarkBounce 0.4s ease-out 1s forwards;
        }

        @keyframes checkmarkBounce {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.1);
            }
        }

        .checkmark.show {
            animation: checkmarkAppear 0.5s ease-out forwards;
        }

        .checkmark.hide {
            animation: checkmarkDisappear 0.3s ease-out forwards;
        }

        @keyframes checkmarkAppear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            60% {
                transform: translate(-50%, -50%) scale(1.15);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        @keyframes checkmarkDisappear {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
        }

        .success-fill {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background-color: #16a249;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            opacity: 0;
        }

        .success-fill.expand {
            animation: expandFill 0.6s ease-out forwards;
        }

        @keyframes expandFill {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 304px;
                height: 304px;
                opacity: 1;
            }
        }

        .success-fill.fullscreen {
            animation: expandFullscreen 1s ease-in-out forwards;
            animation-delay: 0s;
        }

        @keyframes expandFullscreen {
            0% {
                width: 304px;
                height: 304px;
                opacity: 1;
            }
            100% {
                width: 300vmax;
                height: 300vmax;
                opacity: 1;
            }
        }

        .success-fill.fadeout {
            animation: fadeOutGreen 0.5s ease-out forwards;
        }

        @keyframes fadeOutGreen {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        body.complete {
            background: #000000;
            background-image: none;
        }

        body.complete::before,
        body.complete::after {
            display: none;
        }

        .loading-container.hide-all {
            opacity: 0;
        }

        .loading-ring.complete .progress-circle {
            animation: fillCircle 0.4s ease-out forwards;
            stroke-dashoffset: 0 !important;
        }

        @keyframes fillCircle {
            to {
                stroke: #16a249;
                filter: drop-shadow(0 0 20px rgba(22, 162, 73, 1)) drop-shadow(0 0 40px rgba(22, 162, 73, 0.6));
            }
        }

        @keyframes particleFade {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0.1);
            }
        }
    </style>
</head>
<body>
    <div class="loading-container">
        <div class="circle-container">
            <div class="percentage" id="percentageDisplay">0%</div>
            <div class="success-fill" id="successFill"></div>
            <div class="checkmark" id="checkmark">
                <svg viewBox="0 0 100 100">
                    <circle class="checkmark-circle-bg" cx="50" cy="50" r="45" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="4"/>
                    <circle class="checkmark-circle" cx="50" cy="50" r="45" fill="none" stroke="#ffffff" stroke-width="4"/>
                    <path class="checkmark-check" fill="none" stroke="#ffffff" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" d="M30 50 L42 62 L70 34"/>
                </svg>
            </div>
            <img id="gameImage" class="circle-image" alt="Game">
            <div class="loading-ring" id="loadingRing">
                <svg>
                    <circle class="bg-circle" cx="152" cy="152" r="148"></circle>
                    <circle class="progress-circle" cx="152" cy="152" r="148"></circle>
                </svg>
            </div>
        </div>
        <div>
            <div class="game-name" id="gameNameDisplay"></div>
        </div>
    </div>

    <script>
        // Variables - Easy to change
        const gamename = "Aquapark Slides";
        const gameimg = "https://hideout-games.vercel.app/aquapark-slides/splash.png";

        // Set the game name and image
        document.getElementById('gameNameDisplay').textContent = gamename;
        const imgElement = document.getElementById('gameImage');
        imgElement.src = gameimg;
        
        // Error handling for image loading
        imgElement.onerror = function() {
            console.error('Failed to load image from:', gameimg);
            this.style.backgroundColor = '#1a1a1a';
        };
        
        imgElement.onload = function() {
            console.log('Image loaded successfully');
        };

        // Particle effect
        const loadingRing = document.querySelector('.loading-ring');
        
        const svgCenterX = 152; 
        const svgCenterY = 152; 
        const circleRadius = 148; 
        
        let progress = 0;
        const duration = 15000; 
        const startTime = Date.now();

        function createParticle(angle) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            
            const offsetAngle = angle - 0.02; 
            const x = svgCenterX + circleRadius * Math.cos(offsetAngle);
            const y = svgCenterY + circleRadius * Math.sin(offsetAngle);
            
            const tangentAngle = offsetAngle + Math.PI / 2;
            const sideSpread = (Math.random() - 0.5) * 2;
            const backwardSpread = Math.random() * 0.8;
            
            const finalAngle = tangentAngle * sideSpread + (offsetAngle + Math.PI) * backwardSpread;
            const distance = 10 + Math.random() * 25;
            
            const outwardX = Math.cos(finalAngle) * distance;
            const outwardY = Math.sin(finalAngle) * distance;
            
            particle.style.setProperty('--tx', outwardX + 'px');
            particle.style.setProperty('--ty', outwardY + 'px');
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particle.style.animation = 'particleFade 0.5s ease-out forwards';
            
            loadingRing.appendChild(particle);
            
            setTimeout(() => particle.remove(), 500);
        }

        function animateParticles() {
            const elapsed = Date.now() - startTime;
            progress = Math.min(elapsed / duration, 1);
            
            const percentage = Math.floor(progress * 100);
            document.getElementById('percentageDisplay').textContent = percentage + '%';
            
            if (progress < 1) {
                const currentAngle = -Math.PI / 2 + (progress * 2 * Math.PI);
                
                for (let i = 0; i < 4; i++) {
                    createParticle(currentAngle);
                }
                
                requestAnimationFrame(animateParticles);
            } else {
                document.getElementById('percentageDisplay').textContent = '100%';
                
                // Complete animation sequence
                setTimeout(() => {
                    const percentageEl = document.getElementById('percentageDisplay');
                    const successFillEl = document.getElementById('successFill');
                    const checkmarkEl = document.getElementById('checkmark');
                    const loadingRingEl = document.getElementById('loadingRing');
                    
                    // Hide percentage
                    percentageEl.classList.add('hide');
                    
                    // Start expanding green fill after percentage fades
                    setTimeout(() => {
                        successFillEl.classList.add('expand');
                        
                        // Show checkmark after fill completes
                        setTimeout(() => {
                            checkmarkEl.classList.add('show');
                            
                            // Wait 1 second after checkmark animation finishes (0.5s animation + 1s wait)
                            setTimeout(() => {
                                // Fade out and shrink checkmark
                                checkmarkEl.classList.add('hide');
                                
                                // Expand to fullscreen as soon as checkmark starts fading (0.3s fade duration)
                                setTimeout(() => {
                                    successFillEl.classList.add('fullscreen');
                                    
                                    // Wait for fullscreen animation to complete (1s) + 0.5s delay, then keep green screen
                                    setTimeout(() => {
                                        // Green screen stays, everything is complete
                                        document.body.classList.add('complete');
                                    }, 1500); // 1s fullscreen animation + 0.5s delay
                                }, 300);
                            }, 1500); // 0.5s checkmark animation + 1s delay
                        }, 600);
                    }, 300);
                }, 300);
            }
        }

        animateParticles();
    </script>
</body>
</html>
